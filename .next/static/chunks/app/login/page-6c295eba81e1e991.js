(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2551:function(e,s,t){Promise.resolve().then(t.bind(t,4099))},4099:function(e,s,t){"use strict";t.d(s,{default:function(){return c}});var a=t(7437),l=t(2265),n=t(9376),i=t(5452);function c(){let e=(0,i.createClientComponentClient)(),s=(0,n.useRouter)(),[t,c]=(0,l.useState)(""),[r,d]=(0,l.useState)(""),[o,u]=(0,l.useState)(!1),[m,h]=(0,l.useState)(!1),[x,p]=(0,l.useState)(null),b=async a=>{a.preventDefault(),p(null),h(!0);try{if(o){let{error:s}=await e.auth.signInWithOtp({email:t});if(s)throw s;p("Odkaz pro přihl\xe1šen\xed byl odesl\xe1n na email.")}else{let{error:a}=await e.auth.signInWithPassword({email:t,password:r});if(a)throw a;s.replace("/dashboard")}}catch(e){var l;p(null!==(l=null==e?void 0:e.message)&&void 0!==l?l:"Nastala chyba při přihl\xe1šen\xed")}finally{h(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-sm rounded-lg border bg-card p-6 shadow-sm space-y-4",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-center",children:"Přihl\xe1šen\xed"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["Pro přihl\xe1šen\xed mus\xedte nastavit proměnn\xe9 ",(0,a.jsx)("code",{children:"NEXT_PUBLIC_SUPABASE_URL"})," a ",(0,a.jsx)("code",{children:"NEXT_PUBLIC_SUPABASE_ANON_KEY"})," v souboru ",(0,a.jsx)("code",{children:".env.local"}),"."]}),(0,a.jsxs)("form",{className:"space-y-3",onSubmit:b,children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Email"}),(0,a.jsx)("input",{type:"email",value:t,onChange:e=>c(e.target.value),required:!0,className:"w-full rounded-md border px-3 py-2 bg-background",placeholder:"jan@domena.cz"})]}),!o&&(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Heslo"}),(0,a.jsx)("input",{type:"password",value:r,onChange:e=>d(e.target.value),required:!0,className:"w-full rounded-md border px-3 py-2 bg-background",placeholder:"••••••••"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:o,onChange:e=>u(e.target.checked)}),"Přihl\xe1sit pomoc\xed magic linku"]}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"rounded-md bg-black text-white px-4 py-2 disabled:opacity-60",children:m?"Prob\xedh\xe1…":o?"Odeslat odkaz":"Přihl\xe1sit"})]})]}),x&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:x})]})})}}},function(e){e.O(0,[523,971,117,744],function(){return e(e.s=2551)}),_N_E=e.O()}]);